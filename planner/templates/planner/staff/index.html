{% verbatim %}
<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
    Mailbox
    <small>13 new messages</small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active">Mailbox</li>
  </ol>
</section>

<!-- Main content -->
<section class="content">
  <div class="row">
    <div class="col-md-4">
        <div class="box box-default">
            <div class="box-header with-border">
                <h3 class="box-title">Open Plan Requests</h3>
            </div>
            <div class="box-body no-padding">

              <div class="table-responsive mailbox-messages">
                <table class="table table-hover table-striped">
                  <tbody>
                    <tr ng-repeat="request in planRequests | filter: {is_closed: false}">
                      <td class="col-md-2"><a href="" ng-click="selectPlanRequest(request.id)">#{{ request.id }}</a></td>
                      <td class="col-md-6"><b><a href="" ng-click="selectPlanRequest(request.id)">{{ request.intern }}</a></b></td>
                      <td class="col-md-4"><span data-toggle="tooltip" title="5 July 2016 10:06 a.m.">{{ request.submission_datetime }}</span></td>
                    </tr>
                  </tbody>
                </table><!-- /.table -->
              </div><!-- /.mail-box-messages -->
            </div><!-- /.box-body -->
        </div><!-- /.box -->

        <div class="box box-default collapsed-box">
            <div class="box-header with-border">
                <h3 class="box-title">Closed Plan Requests</h3>

                <div class="box-tools pull-right">
                  <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
                </div>

            </div>
            <div class="box-body no-padding">

              <div class="table-responsive mailbox-messages">
                <table class="table table-hover table-striped">
                  <thead>
                    <tr>
                        <th>#</th>
                        <th>Intern</th>
                        <th>Requested</th>
                        <th>Closed</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="request in planRequests | filter: {is_closed: true}">
                      <td class="col-md-1">#{{ request.id }}</td>
                      <td class="col-md-5"><b>{{ request.intern }}</b></td>
                      <td class="col-md-3"><span data-toggle="tooltip" title="3 July 2016 10:06 a.m.">{{ request.submission_datetime }}</span></td>
                      <td class="col-md-3"><span data-toggle="tooltip" title="3 July 2016 10:30 a.m.">{{ request.closure_datetime }}</span></td>
                    </tr>
                  </tbody>
                </table><!-- /.table -->
              </div><!-- /.mail-box-messages -->
            </div><!-- /.box-body -->
        </div><!-- /.box -->
    </div><!-- /.col -->
    <div class="col-md-8">
      <div class="box box-primary" ng-if="!selectedPlanRequest">
        <div class="box-body with-border">
          <br>
          <p style="text-align: center;">Select a plan request from the menu to the left.</p>
          <br>
        </div>
      </div>
      <div class="box box-primary" ng-if="!!selectedPlanRequest">
        <div class="box-header with-border">
          <h3 class="box-title">Plan Request #{{ selectedPlanRequest.id }} ({{ selectedPlanRequest.intern }})</h3>
          <div class="box-tools pull-right">
          </div><!-- /.box-tools -->
        </div><!-- /.box-header -->
        <div class="box-body no-padding">

          <div class="table-responsive mailbox-messages">
            <table class="table table-hover table-striped">
              <tbody>
                <tr ng-repeat="request in selectedPlanRequest.rotation_requests | filter: {status: 'P'}">
                  <td><input type="checkbox"></td>

                  <td class="mailbox-name">{{ request.month }}</td>
                  <td class="mailbox-subject" ng-if="!request.delete">Update to <b>{{ request.requested_department.name }}</b></td>
                  <td class="mailbox-subject" ng-if="request.delete">Cancel Rotation</td>

                  <td class="mailbox-date">
                    <button class="btn btn-sm btn-success" data-toggle="tooltip" title="Approve" ng-click="approve(request)"><i class="fa fa-check"></i></button>
                    <button class="btn btn-sm btn-warning" data-toggle="tooltip" title="Forward"><i class="fa fa-share"></i></button>
                    <button class="btn btn-sm btn-danger" data-toggle="tooltip" title="Decline" ng-click="decline(request)"><i class="fa fa-close"></i></button>
                  </td>
                </tr>
              </tbody>
            </table><!-- /.table -->
          </div><!-- /.mail-box-messages -->
        </div><!-- /.box-body -->
        <div class="box-footer no-padding">
          <div class="mailbox-controls">
            <!-- Check all button -->
            <button class="btn btn-default btn-sm checkbox-toggle"><i class="fa fa-square-o"></i></button>
            <div class="btn-group">
              <button class="btn btn-default btn-sm"><i class="fa fa-check"></i></button>
              <button class="btn btn-default btn-sm"><i class="fa fa-share"></i></button>
              <button class="btn btn-default btn-sm"><i class="fa fa-close"></i></button>
            </div><!-- /.btn-group -->
          </div>
        </div>
      </div><!-- /. box -->
    </div><!-- /.col -->
  </div><!-- /.row -->
</section><!-- /.content -->
{% endverbatim %}