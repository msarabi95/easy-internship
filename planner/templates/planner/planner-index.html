{% verbatim %}
<section class="content-header">
  <h1>
    <!--<i class="fa fa-calendar"></i> -->Internship Planner
  </h1>
  <br>

  <div ng-repeat="message in messages" class="callout callout-{{ message.tags }}">
    <!-- <h4>I am a danger callout!</h4> -->
    <p>{{ message.message }}</p>
  </div>


  <div class="row">
    <div class="col-md-10">
      <div class="box box-solid">
        <div class="box-header">
          <h5 class="box-title"><b>Welcome to the Internship Planner!</b></>
        </div>
        <div class="box-body" ng-if="!internshipInfo.currentPlanRequestSubmitted">

              Choose your desired rotation for each of the months below.
              You have to fill 12 months.

        </div>
        <div class="box-body" ng-if="internshipInfo.currentPlanRequestSubmitted">

              Your last plan request was submitted on <b><i>{{ internshipInfo.currentPlanRequestSubmitDateTime }}</i></b>.

        </div>
      </div>
    </div>
    <div class="col-md-2">
      <button style="height: 39px;" class="btn btn-success btn-block pull-right" ng-disabled="internshipInfo.currentPlanRequestSubmitted" ng-class="{'disabled': internshipInfo.currentPlanRequestSubmitted }" ng-click="submit()">Submit</button>
    </div>
  </div>
</section>

<section class="content">
  
<div style="margin-right: -110px; margin-left: -110px;"><!-- FIXME: Mobile compatiblity -->

      <!-- Check out: -->
      <!-- http://stackoverflow.com/a/25838091 -->
      <div class="row" ng-repeat="month in months track by $index" ng-if="$index % 5 == 0">

        <div class="col-md-2" ng-class="{'col-md-offset-1': $index % 5 == 0}" ng-repeat="i in [$index, $index + 1, $index + 2, $index + 3, $index + 4]">

          <div class="box direct-chat direct-chat-primary internship-month" ng-class="{'box-primary': months[i].current_rotation !== null, 'box-default': months[i].current_rotation == null}">
            <div class="box-header with-border">
              <h3 class="box-title">{{ months[i].label }}</h3>
              <div class="box-tools pull-right">

              </div>
            </div><!-- /.box-header -->
            <div class="box-body">
                <div class="col-xs-12" ng-if="months[i].current_rotation == null">
                  <h4><b>No current rotation.</b></h4>
                </div>
                <div class="col-xs-12" ng-if="months[i].current_rotation !== null">
                  <h5>{{ months[i].current_rotation.department.hospital.name }}</h5>
                  <h4><b>{{ months[i].current_rotation.department.name }}</b></h4>
                </div>
            </div><!-- /.box-body -->

            <div class="box-footer">

              <div class="btn-group" ng-if="months[i].current_rotation == null">
                <button type="button" class="btn btn-default btn-flat ">Request a rotation</button>
                <button type="button" class="btn btn-default btn-flat dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span class="caret"></span>
                  <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu">
                  <li><a href="#">See previous requests for this month</a></li>
                </ul>
              </div>

              <div class="btn-group btn-group-xs" ng-if="months[i].current_rotation !== null">
                <button type="button" class="btn btn-xs btn-primary btn-flat">Get more info</button>
                <button type="button" class="btn btn-xs btn-primary btn-flat dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span class="caret"></span>
                  <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu">
                  <li><a href="#">Request a change</a></li>
                  <li><a href="#">See previous requests for this month</a></li>
                </ul>
              </div>

            </div><!-- /.box-footer-->
          </div><!--/.direct-chat -->


          </div>
      </div>
  </div>
</section>
{% endverbatim %}